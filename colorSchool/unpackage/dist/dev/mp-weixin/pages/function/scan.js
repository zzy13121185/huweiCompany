(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/function/scan"],{233:
/*!*****************************************************************!*\
  !*** E:/project/my/colorUi/colorSchool/pages/function/scan.vue ***!
  \*****************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var n=o(/*! ./scan.vue?vue&type=template&id=24c4409a& */234),a=o(/*! ./scan.vue?vue&type=script&lang=js& */236);for(var r in a)"default"!==r&&function(t){o.d(e,t,(function(){return a[t]}))}(r);o(/*! ./scan.vue?vue&type=style&index=0&lang=css& */238);var i,c=o(/*! ../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */14),s=Object(c["default"])(a["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],i);s.options.__file="project/my/colorUi/colorSchool/pages/function/scan.vue",e["default"]=s.exports},234:
/*!************************************************************************************************!*\
  !*** E:/project/my/colorUi/colorSchool/pages/function/scan.vue?vue&type=template&id=24c4409a& ***!
  \************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,o){"use strict";o.r(e);var n=o(/*! -!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scan.vue?vue&type=template&id=24c4409a& */235);o.d(e,"render",(function(){return n["render"]})),o.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]})),o.d(e,"recyclableRender",(function(){return n["recyclableRender"]})),o.d(e,"components",(function(){return n["components"]}))},235:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/project/my/colorUi/colorSchool/pages/function/scan.vue?vue&type=template&id=24c4409a& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,o){"use strict";var n;o.r(e),o.d(e,"render",(function(){return a})),o.d(e,"staticRenderFns",(function(){return i})),o.d(e,"recyclableRender",(function(){return r})),o.d(e,"components",(function(){return n}));var a=function(){var t=this,e=t.$createElement;t._self._c},r=!1,i=[];a._withStripped=!0},236:
/*!******************************************************************************************!*\
  !*** E:/project/my/colorUi/colorSchool/pages/function/scan.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var n=o(/*! -!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scan.vue?vue&type=script&lang=js& */237),a=o.n(n);for(var r in n)"default"!==r&&function(t){o.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},237:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/project/my/colorUi/colorSchool/pages/function/scan.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){function o(t,e){return r(t)||a(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var o=[],n=!0,a=!1,r=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)if(o.push(i.value),e&&o.length===e)break}catch(s){a=!0,r=s}finally{try{n||null==c["return"]||c["return"]()}finally{if(a)throw r}}return o}}function r(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"temHome",props:{msg:{type:String,default:""},type:{type:String,default:""},fromm:{type:String,default:""}},data:function(){return{qrCode:"",qrCodeType:"",laizi:"",xfData:[],imgrow:[],xgData:[],HYid:"",placeNo:"",lon:"",lat:"",commitTime:0,isDanger:!0,dec:"",position:"",place:"",showlist:!1,switchB:!1}},onLoad:function(){},mounted:function(){this.qrCode=this._props.msg,this.qrCodeType=this._props.type,this.laizi=this._props.fromm,this.getData(),this.$emit("hideLoading",.1),this.getLocation(),console.log(this.laizi)},methods:{sceneRepot:function(){var e=this,n=[];n.push({HDID:e.HYid,CZWT:e.dec,position:e.position,place:e.place}),n=JSON.stringify(n),t.request({url:e.$store.state.urlPrefix+"/School/Everyone_reports_self_Check",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{type:e.qrCodeType,RYXH:e.$store.state.userInfo.RYXH,placeNo:e.placeNo,hdDetail:n,lat:e.lat,lon:e.lon}}).then((function(e){var n=o(e,2),a=(n[0],n[1]);t.hideLoading(),0==a.data.code?t.showModal({title:"提示",content:"提交成功！",showCancel:!1,confirmText:"确定",success:function(e){e.confirm&&t.reLaunch({url:"/pages/basic/home/home"})}}):1==a.data.code?t.showModal({title:"提示",content:a.data.msg,showCancel:!1,confirmText:"确定",success:function(e){e.confirm&&t.reLaunch({url:"/pages/basic/home/home"})}}):t.showModal({title:"提示",content:"上传失败",showCancel:!1,confirmText:"确定",success:function(e){e.confirm&&t.reLaunch({url:"/pages/basic/home/home"})}})}))},SwitchB:function(t){this.switchB=t.detail.value,console.log(this.switchB)},SwitchA:function(t){var e=[],o=!0,n=!1,a=void 0;try{for(var r,i=this.xfData[Symbol.iterator]();!(o=(r=i.next()).done);o=!0){var c=r.value;if(c.Name==t.currentTarget.dataset.title){var s=!0,l=!1,u=void 0;try{for(var f,h=c.Detail[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var d=f.value;d.content==t.currentTarget.dataset.info.content&&(d.isCheck=t.detail.value,t.detail.value?this.dec=this.dec.replace(t.currentTarget.dataset.info.content+",",""):this.dec=this.dec+t.currentTarget.dataset.info.content+",")}}catch(C){l=!0,u=C}finally{try{s||null==h.return||h.return()}finally{if(l)throw u}}}var m=!0,p=!1,g=void 0;try{for(var v,y=c.Detail[Symbol.iterator]();!(m=(v=y.next()).done);m=!0){var w=v.value;e.push(w.isCheck)}}catch(C){p=!0,g=C}finally{try{m||null==y.return||y.return()}finally{if(p)throw g}}}}catch(C){n=!0,a=C}finally{try{o||null==i.return||i.return()}finally{if(n)throw a}}console.log(e),e.every((function(t){return 1==t}))?this.showlist=!1:this.showlist=!0,console.log(this.xfData)},showModel:function(e){t.showModal({title:"提示",content:e,showCancel:!1,success:function(t){t.confirm}})},getData:function(){var e,n=this;console.log(n.fromm),e="隐患上报"==n.fromm?"false":"true",t.request({url:n.$store.state.urlPrefix+"/School/Get_HD",data:{QRCode:n.qrCode,type:n.qrCodeType,RYXH:n.$store.state.userInfo.RYXH,isCheck:e}}).then((function(e){var a=o(e,2),r=(a[0],a[1]);if(console.log(r.data),0==r.data.code){if("XF"==n.qrCodeType){n.xfData=r.data.data[0].Detail,n.HYid=r.data.data[0].ID,n.placeNo=r.data.data[0].placeNo,console.log(n.xfData);var i=!0,c=!1,s=void 0;try{for(var l,u=n.xfData[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var f=l.value;";"==f.Detail[f.Detail.length-1]&&(f.Detail=f.Detail.substr(0,f.Detail.length-1));var h=f.Detail.split(";");f.Detail=[];var d=!0,m=!1,p=void 0;try{for(var g,v=h[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var y=g.value;f.Detail.push({isCheck:!0,content:y})}}catch(w){m=!0,p=w}finally{try{d||null==v.return||v.return()}finally{if(m)throw p}}}}catch(w){c=!0,s=w}finally{try{i||null==u.return||u.return()}finally{if(c)throw s}}}}else 1==r.data.code&&t.showModal({title:"提示",content:r.data.msg,showCancel:!1,confirmText:"确定",success:function(e){e.confirm&&t.reLaunch({url:"/pages/basic/home/home"})}})}))},ChooseImage:function(){var e=this;t.chooseImage({count:1,sizeType:["compressed"],sourceType:["camera"],success:function(t){console.log(t),e.imgrow.push(t.tempFilePaths[0])}})},ViewImage:function(e){t.previewImage({urls:this.imgrow,current:e.currentTarget.dataset.url})},DelImg:function(e){var o=this;console.log(e),t.showModal({title:"删除",content:"确定要删除这张图片吗？",cancelText:"取消",confirmText:"确定",success:function(t){t.confirm&&o.imgrow.splice(e.currentTarget.dataset.index,1)}})},getLocation:function(){var e=this;t.getLocation({type:"gcj02",success:function(t){e.lon=t.longitude,e.lat=t.latitude}})},commitXf:function(){var e=this.imgrow.length,o=[],n=!0,a=!1,r=void 0;try{for(var i,c=this.xfData[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var s=i.value,l=!0,u=!1,f=void 0;try{for(var h,d=s.Detail[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var m=h.value;0==m.isCheck&&o.push({content:m.content,title:s.Name})}}catch(w){u=!0,f=w}finally{try{l||null==d.return||d.return()}finally{if(u)throw f}}}}catch(w){a=!0,r=w}finally{try{n||null==c.return||c.return()}finally{if(a)throw r}}for(var p="",g=0,v=o;g<v.length;g++){var y=v[g];p+="".concat(y.title,":").concat(y.content,".")}console.log(p),this.isDanger=!!p,0==this.imgrow.length?this.showModel("请拍摄照片！"):!this.place&&this.isDanger?this.showModel("请输入详细位置！"):(t.showLoading({title:"提交中。。。",mask:!0}),this.dec=p,this.uploadSafeImg(e))},safeCommit:function(){var e=this;t.request({url:e.$store.state.urlPrefix+"/School/ScanQRCode_Check_Safe",data:{type:e.qrCodeType,RYXH:e.$store.state.userInfo.RYXH,placeNo:e.placeNo}}).then((function(e){var n=o(e,2),a=(n[0],n[1]);t.hideLoading(),0==a.data.code?t.showModal({title:"提示",content:"提交成功！",showCancel:!1,confirmText:"确定",success:function(e){e.confirm&&t.reLaunch({url:"/pages/basic/home/home"})}}):1==a.data.code?t.showModal({title:"提示",content:a.data.msg,showCancel:!1,confirmText:"确定",success:function(e){t.reLaunch({url:"/pages/basic/home/home"})}}):t.showModal({title:"提示",content:"上传失败",showCancel:!1,confirmText:"确定",success:function(e){t.reLaunch({url:"/pages/basic/home/home"})}})}))},dangerCommit:function(){var e=this,n=[];n.push({HDID:e.HYid,CZWT:e.dec,position:e.position,place:e.place}),n=JSON.stringify(n),t.request({url:e.$store.state.urlPrefix+"/School/ScanQRCode_Check_Danger",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{type:e.qrCodeType,RYXH:e.$store.state.userInfo.RYXH,placeNo:e.placeNo,hdDetail:n,lat:e.lat,lon:e.lon}}).then((function(e){var n=o(e,2),a=(n[0],n[1]);t.hideLoading(),0==a.data.code?t.showModal({title:"提示",content:"提交成功！",showCancel:!1,confirmText:"确定",success:function(e){e.confirm&&t.reLaunch({url:"/pages/basic/home/home"})}}):1==a.data.code?t.showModal({title:"提示",content:a.data.msg,showCancel:!1,confirmText:"确定",success:function(e){e.confirm&&t.reLaunch({url:"/pages/basic/home/home"})}}):t.showModal({title:"提示",content:"上传失败",showCancel:!1,confirmText:"确定",success:function(e){e.confirm&&t.reLaunch({url:"/pages/basic/home/home"})}})}))},uploadSafeImg:function(e){var o=this,n=o.$store.state.urlPrefix+"/Process/Everyone_safe_images2";t.uploadFile({url:n,filePath:o.imgrow[o.commitTime],name:"image",formData:{RYXH:o.$store.state.userInfo.RYXH,HDID:o.HYid},success:function(n){o.commitTime=o.commitTime+1,"ok"==n.data?o.commitTime<e?o.uploadSafeImg(e):(o.commitTime=0,o.isDanger?o.switchB?o.sceneRepot():o.dangerCommit():o.safeCommit()):(o.commitTime=0,t.hideLoading(),t.showModal({title:"提示",content:"上报失败！",showCancel:!1,success:function(e){e.confirm&&t.reLaunch({url:"/pages/basic/home/home"})}}))}})}}};e.default=i}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},238:
/*!**************************************************************************************************!*\
  !*** E:/project/my/colorUi/colorSchool/pages/function/scan.vue?vue&type=style&index=0&lang=css& ***!
  \**************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var n=o(/*! -!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scan.vue?vue&type=style&index=0&lang=css& */239),a=o.n(n);for(var r in n)"default"!==r&&function(t){o.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},239:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/project/my/colorUi/colorSchool/pages/function/scan.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){}}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/function/scan.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/function/scan-create-component',
    {
        'pages/function/scan-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(233))
        })
    },
    [['pages/function/scan-create-component']]
]);
