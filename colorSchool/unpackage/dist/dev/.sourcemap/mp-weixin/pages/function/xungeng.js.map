{"version":3,"sources":["webpack:///E:/project/my/colorUi/colorSchool/pages/function/xungeng.vue?e48b","webpack:///E:/project/my/colorUi/colorSchool/pages/function/xungeng.vue?40c5","webpack:///E:/project/my/colorUi/colorSchool/pages/function/xungeng.vue?37f7","webpack:///E:/project/my/colorUi/colorSchool/pages/function/xungeng.vue?56ab","webpack:///E:/project/my/colorUi/colorSchool/pages/function/xungeng.vue"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","__map","xgData","item","index","g0","Detail","every","foo","isCheck","g1","g2","$orig","__get_orig","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","name","props","msg","type","String","default","qrCode","qrCodeType","current","chooseId","choosePlace","imgrow","lon","lat","commitTime","uploadImgRow","laizi","isAllCheck","safeImgRow","imgList","showimgList","safePosition","disabled","switchB","methods","sceneRepot","postData","self","ddd","JSON","stringify","uni","request","url","$store","state","urlPrefix","method","header","RYXH","userInfo","placeNo","hdDetail","then","res","hideLoading","code","showModal","title","content","showCancel","confirmText","success","confirm","reLaunch","SwitchB","e","detail","value","console","log","ChooseImageSafe","chooseImage","count","sizeType","sourceType","length","concat","tempFilePaths","ViewImageSafe","previewImage","urls","currentTarget","dataset","DelImgSafe","cancelText","splice","ChooseImage","push","ViewImage","DelImg2","showModel","SwitchA","Judge","Name","yhms","replace","info","word","kid","getData","fromm","QRCode","cont","yhbw","ID","substr","split","nextStep","showLoading","mask","judge","DangerIndex","levelOne","HDID","CZWT","place","position","levelTwo","len","uploadSafeImg","i","j","imgNumber","zzy","id","uploadDangerImg","getLocation","longitude","latitude","postImgUrl","uploadFile","filePath","formData","dangerCommit","safeCommit","getPlace","mounted","_props","$emit"],"mappings":"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","file":"pages/function/xungeng.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./xungeng.vue?vue&type=template&id=b1ffdbca&\"\nvar renderjs\nimport script from \"./xungeng.vue?vue&type=script&lang=js&\"\nexport * from \"./xungeng.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"project/my/colorUi/colorSchool/pages/function/xungeng.vue\"\nexport default component.exports","export * from \"-!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./xungeng.vue?vue&type=template&id=b1ffdbca&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.xgData, function(item, index) {\n    var g0 = item.Detail.every(function(foo) {\n      return foo.isCheck == true\n    })\n    var g1 = item.Detail.every(function(foo) {\n      return foo.isCheck == true\n    })\n    var g2 = item.Detail.every(function(foo) {\n      return foo.isCheck == true\n    })\n    return {\n      $orig: _vm.__get_orig(item),\n      g0: g0,\n      g1: g1,\n      g2: g2\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./xungeng.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./xungeng.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nexport default {\r\n\tname: 'temHome',\r\n\tprops: {\r\n\t\tmsg: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\ttype: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tqrCode: '',\r\n\t\t\tqrCodeType: '',\r\n\t\t\txgData: [],\r\n\t\t\tcurrent: -1,\r\n\t\t\tchooseId: '',\r\n\t\t\tchoosePlace: '',\r\n\t\t\timgrow: [],\r\n\t\t\tlon: '',\r\n\t\t\tlat: '',\r\n\t\t\tcommitTime: 0,\r\n\t\t\tuploadImgRow: [],\r\n\t\t\tlaizi: '',\r\n\t\t\tisAllCheck: [],\r\n\t\t\tsafeImgRow: [],\r\n\t\t\timgList: [],\r\n\t\t\tshowimgList: true,\r\n\t\t\tsafePosition:'',\r\n\t\t\tdisabled: false,\r\n\t\t\tswitchB: false\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tsceneRepot(postData) {\r\n\t\t\tvar self = this;\r\n\t\t\tlet ddd = JSON.stringify(postData);\r\n\t\t\tuni\r\n\t\t\t\t.request({\r\n\t\t\t\t\turl: self.$store.state.urlPrefix + '/School/Everyone_reports_self_Check',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttype: self.qrCodeType,\r\n\t\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\r\n\t\t\t\t\t\tplaceNo: self.choosePlace,\r\n\t\t\t\t\t\thdDetail: ddd,\r\n\t\t\t\t\t\tlat: self.lat,\r\n\t\t\t\t\t\tlon: self.lon\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tvar [error, res] = data;\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tself.disabled = false;\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '提交成功！',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.data.code == 1) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: res.data.msg,\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '上传失败',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tSwitchB(e) {\r\n\t\t\tthis.switchB = e.detail.value;\r\n\t\t\tconsole.log(this.switchB)\r\n\t\t},\r\n\t\t//图片相关\r\n\t\tChooseImageSafe() {\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tcount: 4, //默认9\r\n\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\tsourceType: ['camera'], //从相册选择\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (this.imgList.length != 0) {\r\n\t\t\t\t\t\tthis.imgList = this.imgList.concat(res.tempFilePaths);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.imgList = res.tempFilePaths;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tViewImageSafe(e) {\r\n\t\t\tuni.previewImage({\r\n\t\t\t\turls: this.imgList,\r\n\t\t\t\tcurrent: e.currentTarget.dataset.url\r\n\t\t\t});\r\n\t\t},\r\n\t\tDelImgSafe(e) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '删除',\r\n\t\t\t\tcontent: '确定要删除这张照片吗？',\r\n\t\t\t\tcancelText: '再看看',\r\n\t\t\t\tconfirmText: '再见',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tthis.imgList.splice(e.currentTarget.dataset.index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tChooseImage(index) {\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tcount: 1, //默认9\r\n\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\tsourceType: ['camera'], //从相册选择\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tthis.imgrow[index].url.push(res.tempFilePaths[0]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tViewImage(e) {\r\n\t\t\tuni.previewImage({\r\n\t\t\t\turls: this.imgrow[e.currentTarget.dataset.index].url,\r\n\t\t\t\tcurrent: e.currentTarget.dataset.url\r\n\t\t\t});\r\n\t\t},\r\n\t\tDelImg2(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '删除',\r\n\t\t\t\tcontent: '确定要删除这张图片吗？',\r\n\t\t\t\tcancelText: '取消',\r\n\t\t\t\tconfirmText: '确定',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tthis.safeImgRow.url.splice(e.currentTarget.dataset.index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tshowModel(title) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: title,\r\n\t\t\t\tshowCancel: false,\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tSwitchA(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tlet Judge = [];\r\n\t\t\tfor (let name of this.xgData) {\r\n\t\t\t\tif (name.Name == e.currentTarget.dataset.title) {\r\n\t\t\t\t\tif (!e.detail.value) {\r\n\t\t\t\t\t\tname.yhms = name.yhms + e.currentTarget.dataset.info.content + ',';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tname.yhms = name.yhms.replace(e.currentTarget.dataset.info.content + ',', '');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (let word of name.Detail) {\r\n\t\t\t\t\t\tif (word.content == e.currentTarget.dataset.info.content) {\r\n\t\t\t\t\t\t\tword.isCheck = e.detail.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfor (let kid of name.Detail) {\r\n\t\t\t\t\tJudge.push(kid.isCheck);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// console.log(this.xgData)\r\n\t\t\tif (\r\n\t\t\t\tJudge.every(item => {\r\n\t\t\t\t\treturn item == true;\r\n\t\t\t\t})\r\n\t\t\t) {\r\n\t\t\t\tthis.showimgList = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.showimgList = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetData() {\r\n\t\t\tvar self = this;\r\n\t\t\tlet isCheck;\r\n\t\t\tif (self.fromm == '隐患上报') {\r\n\t\t\t\tisCheck = 'false'\r\n\t\t\t} else {\r\n\t\t\t\tisCheck = 'true'\r\n\t\t\t}\r\n\t\t\tuni\r\n\t\t\t\t.request({\r\n\t\t\t\t\turl: self.$store.state.urlPrefix + '/School/Get_HD',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tQRCode: self.qrCode,\r\n\t\t\t\t\t\ttype: self.qrCodeType,\r\n\t\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\r\n\t\t\t\t\t\tisCheck: isCheck\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tvar [error, res] = data;\r\n\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tself.xgData = res.data.data;\r\n\t\t\t\t\t\tself.choosePlace = self.xgData[0].placeNo;\r\n\t\t\t\t\t\tfor (let cont of self.xgData) {\r\n\t\t\t\t\t\t\tcont.yhms = '';\r\n\t\t\t\t\t\t\tcont.yhbw = '';\r\n\t\t\t\t\t\t\tself.imgrow.push({\r\n\t\t\t\t\t\t\t\tname: cont.ID,\r\n\t\t\t\t\t\t\t\turl: []\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (cont.Detail[cont.Detail.length - 1] == ';') {\r\n\t\t\t\t\t\t\t\tcont.Detail = cont.Detail.substr(0, cont.Detail.length - 1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet content = cont.Detail.split(';');\r\n\t\t\t\t\t\t\tcont.Detail = [];\r\n\t\t\t\t\t\t\tfor (let word of content) {\r\n\t\t\t\t\t\t\t\tcont.Detail.push({\r\n\t\t\t\t\t\t\t\t\tisCheck: true,\r\n\t\t\t\t\t\t\t\t\tcontent: word\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(self.xgData);\r\n\t\t\t\t\t\tconsole.log(self.imgrow);\r\n\t\t\t\t\t} else if (res.data.code == 1){\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: res.data.msg,\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tnextStep() {\r\n\t\t\tthis.disabled = true;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle:\"提交中。。。\",\r\n\t\t\t\tmask:true\r\n\t\t\t})\r\n\t\t\tlet judge = [];\r\n\t\t\tlet DangerIndex = [];\r\n\t\t\tlet postData = [];\r\n\t\t\tlet checkBox = [];\r\n\t\t\tconsole.log(this.xgData);\r\n\t\t\t//获取排查要点\r\n\t\t\tfor (let levelOne of this.xgData) {\r\n\t\t\t\tif (levelOne.yhms.length > 0) {\r\n\t\t\t\t\tpostData.push({\r\n\t\t\t\t\t\tHDID: levelOne.ID,\r\n\t\t\t\t\t\tCZWT: levelOne.yhms,\r\n\t\t\t\t\t\tplace: levelOne.yhbw,\r\n\t\t\t\t\t\tposition: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t//position原接口为检查记录\r\n\t\t\t\tfor (let levelTwo of levelOne.Detail) {\r\n\t\t\t\t\tjudge.push(levelTwo.isCheck);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(postData);\r\n\r\n\t\t\t//判断是否安全\r\n\t\t\tif (\r\n\t\t\t\tjudge.every(item => {\r\n\t\t\t\t\treturn item == true;\r\n\t\t\t\t})\r\n\t\t\t) {\r\n\t\t\t\tvar len = this.imgList.length\r\n\t\t\t\tif (len == 0) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthis.disabled = false;\r\n\t\t\t\t\tthis.showModel('请拍摄照片')\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.uploadSafeImg(len)\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < this.xgData.length; i++) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!this.xgData[i].Detail.every(item => {\r\n\t\t\t\t\t\t\treturn item.isCheck == true;\r\n\t\t\t\t\t\t}) &&\r\n\t\t\t\t\t\tthis.imgrow[i].url.length == 0\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tthis.disabled = false;\r\n\t\t\t\t\t\tthis.showModel('请完善隐患照片！');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t!this.xgData[i].Detail.every(item => {\r\n\t\t\t\t\t\t\treturn item.isCheck == true;\r\n\t\t\t\t\t\t}) &&\r\n\t\t\t\t\t\tthis.xgData[i].yhbw.length == 0\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tthis.disabled = false;\r\n\t\t\t\t\t\tthis.showModel('请完善隐患部位！');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t!this.xgData[i].Detail.every(item => {\r\n\t\t\t\t\t\t\treturn item.isCheck == true;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\t//根据i的数量获取隐患的数量\r\n\t\t\t\t\t\tDangerIndex.push(i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar len = 0;\r\n\t\t\t\tfor (let j = 0; j < DangerIndex.length; j++) {\r\n\t\t\t\t\tlet imgNumber = this.imgrow[DangerIndex[j]].url.length;\r\n\t\t\t\t\tfor (let zzy of this.imgrow[DangerIndex[j]].url) {\r\n\t\t\t\t\t\tthis.uploadImgRow.push({\r\n\t\t\t\t\t\t\tid: this.imgrow[DangerIndex[j]].name,\r\n\t\t\t\t\t\t\turl: zzy\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlen = len + imgNumber;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (len > 0) {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle:'提交中。。。',\r\n\t\t\t\t\t\tmask:true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.uploadDangerImg(len, postData);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tgetLocation() {\r\n\t\t\tvar self = this;\r\n\t\t\tuni.getLocation({\r\n\t\t\t\ttype: 'gcj02',\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tself.lon = res.longitude;\r\n\t\t\t\t\tself.lat = res.latitude;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tuploadDangerImg(len, postData) {\r\n\t\t\t\r\n\t\t\tvar self = this;\r\n\t\t\tvar postImgUrl = self.$store.state.urlPrefix + '/Process/Everyone_safe_images2';\r\n\t\t\tuni.uploadFile({\r\n\t\t\t\turl: postImgUrl,\r\n\t\t\t\tfilePath: self.uploadImgRow[self.commitTime].url,\r\n\t\t\t\tname: 'image',\r\n\t\t\t\tformData: {\r\n\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\r\n\t\t\t\t\tHDID: self.uploadImgRow[self.commitTime].id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tself.commitTime = self.commitTime + 1;\r\n\t\t\t\t\tif (res.data == 'ok') {\r\n\t\t\t\t\t\tif (self.commitTime < len) {\r\n\t\t\t\t\t\t\tself.uploadDangerImg(len, postData);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif(self.switchB) {\r\n\t\t\t\t\t\t\t\t self.sceneRepot(postData)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tself.dangerCommit(postData);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tself.commitTime = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tself.disabled = false;\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '上报失败！',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tuploadSafeImg(len) {\r\n\t\t\t\r\n\t\t\tvar self = this;\r\n\t\t\tvar postImgUrl = self.$store.state.urlPrefix + '/Process/Everyone_safe_images2';\r\n\t\t\tuni.uploadFile({\r\n\t\t\t\turl: postImgUrl,\r\n\t\t\t\tfilePath: self.imgList[self.commitTime],\r\n\t\t\t\tname: 'image',\r\n\t\t\t\tformData: {\r\n\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\r\n\t\t\t\t\tHDID: self.choosePlace\r\n\t\t\t\t},\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tself.commitTime = self.commitTime + 1;\r\n\t\t\t\t\tif (res.data == 'ok') {\r\n\t\t\t\t\t\tif (self.commitTime < len) {\r\n\t\t\t\t\t\t\tself.uploadSafeImg(len);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tself.safeCommit();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tself.commitTime = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tself.disabled = false;\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '上报失败！',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t},\r\n\t\tsafeCommit() {\r\n\t\t\t\r\n\t\t\tvar self = this;\r\n\t\t\tuni\r\n\t\t\t\t.request({\r\n\t\t\t\t\turl: self.$store.state.urlPrefix + '/School/ScanQRCode_Check_Safe',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttype: self.qrCodeType,\r\n\t\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\r\n\t\t\t\t\t\tplaceNo: self.choosePlace\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tvar [error, res] = data;\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tself.disabled = false;\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '提交成功！',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.data.code == 1) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: res.data.msg,\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '上传失败',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tdangerCommit(postData) {\r\n\t\t\tvar self = this;\r\n\t\t\tlet ddd = JSON.stringify(postData);\r\n\t\t\tconsole.log(ddd)\r\n\t\t\tuni\r\n\t\t\t\t.request({\r\n\t\t\t\t\turl: self.$store.state.urlPrefix + '/School/ScanQRCode_Check_Danger',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttype: self.qrCodeType,\r\n\t\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\r\n\t\t\t\t\t\tplaceNo: self.choosePlace,\r\n\t\t\t\t\t\thdDetail: ddd,\r\n\t\t\t\t\t\tlat: self.lat,\r\n\t\t\t\t\t\tlon: self.lon\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tvar [error, res] = data;\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tself.disabled = false;\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '提交成功！',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.data.code == 1) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: res.data.msg,\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '上传失败',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\tgetPlace(id,type) {\r\n\t\t\tvar self = this;\r\n\t\t\tuni.request({\r\n\t\t\t\turl: self.$store.state.urlPrefix + '/School/Get_PlaceWay',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tQRCode: this.qrCode,\r\n\t\t\t\t\ttype: this.qrCodeType\r\n\t\t\t\t}\r\n\t\t\t}).then(data => {\r\n\t\t\t\tvar [error,res] = data;\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif (res.data.code ==0) {\r\n\t\t\t\t\tself.safePosition = res.data.data;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tthis.qrCode = this._props.msg;\r\n\t\tthis.qrCodeType = this._props.type;\r\n\t\tthis.$emit('hideLoading', 0.1);\r\n\t\tconsole.log(this.qrCode, this.qrCodeType);\r\n\t\tthis.getData();\r\n\t\tthis.getLocation();\r\n\t\tthis.getPlace();\r\n\t}\r\n};\r\n"],"sourceRoot":""}