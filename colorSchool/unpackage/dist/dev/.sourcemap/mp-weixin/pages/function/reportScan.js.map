{"version":3,"sources":["webpack:///E:/project/my/colorUi/colorSchool/pages/function/reportScan.vue?c97f","webpack:///E:/project/my/colorUi/colorSchool/pages/function/reportScan.vue?2b8b","webpack:///E:/project/my/colorUi/colorSchool/pages/function/reportScan.vue?4416","webpack:///E:/project/my/colorUi/colorSchool/pages/function/reportScan.vue?9b3c","webpack:///E:/project/my/colorUi/colorSchool/pages/function/reportScan.vue"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","__map","xgData","item","index","g0","Detail","every","foo","isCheck","g1","g2","$orig","__get_orig","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","name","props","msg","type","String","default","fromm","qrCode","qrCodeType","current","chooseId","choosePlace","imgrow","lon","lat","commitTime","uploadImgRow","laizi","isAllCheck","safeImgRow","imgList","showimgList","safePosition","yhposition","switchB","methods","ChooseImageSafe","uni","chooseImage","count","sizeType","sourceType","success","res","length","concat","tempFilePaths","ViewImageSafe","e","previewImage","urls","currentTarget","dataset","url","DelImgSafe","showModal","title","content","cancelText","confirmText","confirm","splice","ChooseImage","console","log","push","ViewImage","DelImg2","showModel","showCancel","SwitchB","detail","value","SwitchA","Judge","Name","yhms","replace","info","word","kid","getData","self","request","$store","state","urlPrefix","QRCode","RYXH","userInfo","then","code","placeNo","cont","yhbw","ID","substr","split","showToast","duration","icon","nextStep","showLoading","mask","judge","DangerIndex","postData","levelOne","HDID","CZWT","place","position","levelTwo","hideLoading","len","uploadSafeImg","i","j","imgNumber","zzy","id","uploadDangerImg","postImgUrl","uploadFile","filePath","formData","sceneReport","HYdangerCommit","reLaunch","HYsafeCommit","ddd","JSON","stringify","method","header","hdDetail","getPlace","getLocation","longitude","latitude","mounted","_props","$emit"],"mappings":"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","file":"pages/function/reportScan.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./reportScan.vue?vue&type=template&id=17792e2e&\"\nvar renderjs\nimport script from \"./reportScan.vue?vue&type=script&lang=js&\"\nexport * from \"./reportScan.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"project/my/colorUi/colorSchool/pages/function/reportScan.vue\"\nexport default component.exports","export * from \"-!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reportScan.vue?vue&type=template&id=17792e2e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.xgData, function(item, index) {\n    var g0 = item.Detail.every(function(foo) {\n      return foo.isCheck == true\n    })\n    var g1 = item.Detail.every(function(foo) {\n      return foo.isCheck == true\n    })\n    var g2 = item.Detail.every(function(foo) {\n      return foo.isCheck == true\n    })\n    return {\n      $orig: _vm.__get_orig(item),\n      g0: g0,\n      g1: g1,\n      g2: g2\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reportScan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reportScan.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: 'temHome',\n\tprops: {\n\t\tmsg: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\ttype: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tfromm: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tqrCode: '',\n\t\t\tqrCodeType: '',\n\t\t\txgData: [],\n\t\t\tcurrent: -1,\n\t\t\tchooseId: '',\n\t\t\tchoosePlace: '',\n\t\t\timgrow: [],\n\t\t\tlon: '',\n\t\t\tlat: '',\n\t\t\tcommitTime: 0,\n\t\t\tuploadImgRow: [],\n\t\t\tlaizi: '',\n\t\t\tisAllCheck: [],\n\t\t\tsafeImgRow: [],\n\t\t\timgList: [],\n\t\t\tshowimgList: true,\n\t\t\tsafePosition: '',\n\t\t\tyhposition: '',\n\t\t\tswitchB: false\n\t\t};\n\t},\n\tmethods: {\n\t\t//图片相关\n\t\tChooseImageSafe() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 4, //默认9\n\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['camera'], //从相册选择\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (this.imgList.length != 0) {\n\t\t\t\t\t\tthis.imgList = this.imgList.concat(res.tempFilePaths);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.imgList = res.tempFilePaths;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tViewImageSafe(e) {\n\t\t\tuni.previewImage({\n\t\t\t\turls: this.imgList,\n\t\t\t\tcurrent: e.currentTarget.dataset.url\n\t\t\t});\n\t\t},\n\t\tDelImgSafe(e) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '删除',\n\t\t\t\tcontent: '确定要删除这张照片吗？',\n\t\t\t\tcancelText: '再看看',\n\t\t\t\tconfirmText: '再见',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tthis.imgList.splice(e.currentTarget.dataset.index, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tChooseImage(index) {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1, //默认9\n\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['camera'], //从相册选择\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tthis.imgrow[index].url.push(res.tempFilePaths[0]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tViewImage(e) {\n\t\t\tuni.previewImage({\n\t\t\t\turls: this.imgrow[e.currentTarget.dataset.index].url,\n\t\t\t\tcurrent: e.currentTarget.dataset.url\n\t\t\t});\n\t\t},\n\t\tDelImg2(e) {\n\t\t\tconsole.log(e);\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '删除',\n\t\t\t\tcontent: '确定要删除这张图片吗？',\n\t\t\t\tcancelText: '取消',\n\t\t\t\tconfirmText: '确定',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tthis.safeImgRow.url.splice(e.currentTarget.dataset.index, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tshowModel(title) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: title,\n\t\t\t\tshowCancel: false,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.confirm) {}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tSwitchB(e) {\n\t\t\tthis.switchB = e.detail.value;\n\t\t\tconsole.log(this.switchB)\n\t\t},\n\t\tSwitchA(e) {\n\t\t\tconsole.log(e);\n\t\t\tlet Judge = [];\n\t\t\tfor (let name of this.xgData) {\n\t\t\t\tif (name.Name == e.currentTarget.dataset.title) {\n\t\t\t\t\tif (!e.detail.value) {\n\t\t\t\t\t\tname.yhms = name.yhms + e.currentTarget.dataset.info.content + ',';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tname.yhms = name.yhms.replace(e.currentTarget.dataset.info.content + ',', '');\n\t\t\t\t\t}\n\t\t\t\t\tfor (let word of name.Detail) {\n\t\t\t\t\t\tif (word.content == e.currentTarget.dataset.info.content) {\n\t\t\t\t\t\t\tword.isCheck = e.detail.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (let kid of name.Detail) {\n\t\t\t\t\tJudge.push(kid.isCheck);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// console.log(this.xgData)\n\t\t\tif (\n\t\t\t\tJudge.every(item => {\n\t\t\t\t\treturn item == true;\n\t\t\t\t})\n\t\t\t) {\n\t\t\t\tthis.showimgList = true;\n\t\t\t} else {\n\t\t\t\tthis.showimgList = false;\n\t\t\t}\n\t\t},\n\t\tgetData() {\n\t\t\tvar self = this;\n\t\t\tuni\n\t\t\t\t.request({\n\t\t\t\t\turl: self.$store.state.urlPrefix + '/School/Get_HD',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tQRCode: self.qrCode,\n\t\t\t\t\t\ttype: self.qrCodeType,\n\t\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\n\t\t\t\t\t\tisCheck: 'false'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(data => {\n\t\t\t\t\tvar [error, res] = data;\n\n\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\tself.xgData = res.data.data;\n\t\t\t\t\t\tself.choosePlace = self.xgData[0].placeNo;\n\t\t\t\t\t\tfor (let cont of self.xgData) {\n\t\t\t\t\t\t\tcont.yhms = '';\n\t\t\t\t\t\t\tcont.yhbw = '';\n\t\t\t\t\t\t\tself.imgrow.push({\n\t\t\t\t\t\t\t\tname: cont.ID,\n\t\t\t\t\t\t\t\turl: []\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (cont.Detail[cont.Detail.length - 1] == ';') {\n\t\t\t\t\t\t\t\tcont.Detail = cont.Detail.substr(0, cont.Detail.length - 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet content = cont.Detail.split(';');\n\t\t\t\t\t\t\tcont.Detail = [];\n\t\t\t\t\t\t\tfor (let word of content) {\n\t\t\t\t\t\t\t\tcont.Detail.push({\n\t\t\t\t\t\t\t\t\tisCheck: true,\n\t\t\t\t\t\t\t\t\tcontent: word\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log(self.xgData);\n\t\t\t\t\t\tconsole.log(self.imgrow);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '扫描失败',\n\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\ticon: 'loading'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tnextStep() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"提交中。。。\",\n\t\t\t\tmask: true\n\t\t\t})\n\n\n\t\t\tlet judge = [];\n\t\t\tlet DangerIndex = [];\n\t\t\tlet postData = [];\n\t\t\tlet checkBox = [];\n\t\t\tconsole.log(this.imgrow);\n\t\t\t//获取排查要点\n\t\t\tfor (let levelOne of this.xgData) {\n\t\t\t\tif (levelOne.yhms.length > 0) {\n\t\t\t\t\tpostData.push({\n\t\t\t\t\t\tHDID: levelOne.ID,\n\t\t\t\t\t\tCZWT: levelOne.yhms,\n\t\t\t\t\t\tplace: levelOne.yhbw,\n\t\t\t\t\t\tposition: this.yhposition\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t//position原接口为检查记录\n\t\t\t\tfor (let levelTwo of levelOne.Detail) {\n\t\t\t\t\tjudge.push(levelTwo.isCheck);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconsole.log(postData);\n\n\t\t\t//判断是否安全\n\t\t\tif (\n\t\t\t\tjudge.every(item => {\n\t\t\t\t\treturn item == true;\n\t\t\t\t})\n\t\t\t) {\n\t\t\t\t// this.showModel('请选择隐患！')\n\t\t\t\t// this.uploadSafeImg()\n\t\t\t\tif (this.imgList.length == 0) {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tthis.showModel('请选择照片！');\n\t\t\t\t} else {\n\t\t\t\t\tvar len = this.imgList.length;\n\t\t\t\t\tthis.uploadSafeImg(len);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (let i = 0; i < this.xgData.length; i++) {\n\t\t\t\t\tif (\n\t\t\t\t\t\t!this.xgData[i].Detail.every(item => {\n\t\t\t\t\t\t\treturn item.isCheck == true;\n\t\t\t\t\t\t}) &&\n\t\t\t\t\t\tthis.imgrow[i].url.length == 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\tthis.showModel('请完善隐患照片！');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t!this.xgData[i].Detail.every(item => {\n\t\t\t\t\t\t\treturn item.isCheck == true;\n\t\t\t\t\t\t}) &&\n\t\t\t\t\t\tthis.xgData[i].yhbw.length == 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\tthis.showModel('请完善隐患部位！');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t!this.xgData[i].Detail.every(item => {\n\t\t\t\t\t\t\treturn item.isCheck == true;\n\t\t\t\t\t\t})\n\t\t\t\t\t) {\n\t\t\t\t\t\t//根据i的数量获取隐患的数量\n\t\t\t\t\t\tDangerIndex.push(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar len = 0;\n\t\t\t\tfor (let j = 0; j < DangerIndex.length; j++) {\n\t\t\t\t\tlet imgNumber = this.imgrow[DangerIndex[j]].url.length;\n\t\t\t\t\tfor (let zzy of this.imgrow[DangerIndex[j]].url) {\n\t\t\t\t\t\tthis.uploadImgRow.push({\n\t\t\t\t\t\t\tid: this.imgrow[DangerIndex[j]].name,\n\t\t\t\t\t\t\turl: zzy\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tlen = len + imgNumber;\n\t\t\t\t}\n\n\t\t\t\tif (len > 0) {\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '提交中。。。',\n\t\t\t\t\t\tmask: true\n\t\t\t\t\t});\n\t\t\t\t\tthis.uploadDangerImg(len, postData);\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t},\n\n\t\tuploadDangerImg(len, postData) {\n\t\t\tvar self = this;\n\t\t\tvar postImgUrl = self.$store.state.urlPrefix + '/Process/Everyone_safe_images2';\n\t\t\tuni.uploadFile({\n\t\t\t\turl: postImgUrl,\n\t\t\t\tfilePath: self.uploadImgRow[self.commitTime].url,\n\t\t\t\tname: 'image',\n\t\t\t\tformData: {\n\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\n\t\t\t\t\tHDID: self.uploadImgRow[self.commitTime].id\n\t\t\t\t},\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tself.commitTime = self.commitTime + 1;\n\t\t\t\t\tif (res.data == 'ok') {\n\t\t\t\t\t\tif (self.commitTime < len) {\n\t\t\t\t\t\t\tself.uploadDangerImg(len, postData);\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif (self.switchB) {\n\t\t\t\t\t\t\t\tself.sceneReport(postData)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.HYdangerCommit(postData);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tself.commitTime = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '上报失败！',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tuploadSafeImg(len) {\n\t\t\tvar self = this;\n\t\t\tvar postImgUrl = self.$store.state.urlPrefix + '/Process/Everyone_safe_images2';\n\t\t\tlet hdid = '';\n\n\t\t\tuni.uploadFile({\n\t\t\t\turl: postImgUrl,\n\t\t\t\tfilePath: self.imgList[self.commitTime],\n\t\t\t\tname: 'image',\n\t\t\t\tformData: {\n\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\n\t\t\t\t\tHDID: self.choosePlace\n\t\t\t\t},\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tself.commitTime = self.commitTime + 1;\n\t\t\t\t\tif (res.data == 'ok') {\n\t\t\t\t\t\tif (self.commitTime < len) {\n\t\t\t\t\t\t\tself.uploadSafeImg(len);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.HYsafeCommit();\n\n\t\t\t\t\t\t\tself.commitTime = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '上报失败！',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//来自隐患上报\n\n\t\tHYdangerCommit(postData) {\n\t\t\tvar self = this;\n\t\t\tvar hdDetailData = [];\n\t\t\tlet ddd = JSON.stringify(postData);\n\t\t\tuni\n\t\t\t\t.request({\n\t\t\t\t\turl: self.$store.state.urlPrefix + '/school/ScanQRCode_report',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\n\t\t\t\t\t\thdDetail: ddd,\n\t\t\t\t\t\tlat: self.lat,\n\t\t\t\t\t\tlon: self.lon,\n\t\t\t\t\t\ttype: self.qrCodeType\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(data => {\n\t\t\t\t\tvar [error, res] = data;\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '提交成功！',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: '确定',\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (res.data.code == 1) {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: res.data.msg,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: '确定',\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '上传失败',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: '确定',\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\n\t\tHYsafeCommit() {\n\t\t\tvar self = this;\n\t\t\tuni\n\t\t\t\t.request({\n\t\t\t\t\turl: self.$store.state.urlPrefix + '/school/ScanQRCode_report_safe',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\n\t\t\t\t\t\tplaceNo: self.choosePlace,\n\t\t\t\t\t\tposition: self.yhposition,\n\t\t\t\t\t\ttype: self.qrCodeType,\n\t\t\t\t\t\tplace: ''\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(data => {\n\t\t\t\t\tvar [error, res] = data;\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '提交成功！',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: '确定',\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (res.data.code == 1) {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: res.data.msg,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: '确定',\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '上传失败',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: '确定',\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tgetPlace(id, type) {\n\t\t\tvar self = this;\n\t\t\tuni\n\t\t\t\t.request({\n\t\t\t\t\turl: self.$store.state.urlPrefix + '/School/Get_PlaceWay',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tQRCode: this.qrCode,\n\t\t\t\t\t\ttype: this.qrCodeType\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(data => {\n\t\t\t\t\tvar [error, res] = data;\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\tself.safePosition = res.data.data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tgetLocation() {\n\t\t\tvar self = this;\n\t\t\tuni.getLocation({\n\t\t\t\ttype: 'gcj02',\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tself.lon = res.longitude;\n\t\t\t\t\tself.lat = res.latitude;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t//现场整改\n\t\tsceneReport(postData) {\n\t\t\tconsole.log('postData')\n\t\t\tvar self = this;\n\t\t\tvar hdDetailData = [];\n\t\t\tlet ddd = JSON.stringify(postData);\n\t\t\tuni\n\t\t\t\t.request({\n\t\t\t\t\turl: self.$store.state.urlPrefix + '/School/ScanQRCode_report_slef',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\ttype: self.qrCodeType,\n\t\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\n\t\t\t\t\t\tplaceNo: self.choosePlace,\n\t\t\t\t\t\thdDetail: ddd,\n\t\t\t\t\t\tlat: self.lat,\n\t\t\t\t\t\tlon: self.lon\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(data => {\n\t\t\t\t\tvar [error, res] = data;\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tif (res.data.code == 0) {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '提交成功！',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: '确定',\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (res.data.code == 1) {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: res.data.msg,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: '确定',\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '上传失败',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: '确定',\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/basic/home/home'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.qrCode = this._props.msg;\n\t\tthis.qrCodeType = this._props.type;\n\n\t\tthis.$emit('hideLoading', 0.1);\n\n\t\tthis.getData();\n\t\tthis.getLocation();\n\t\tthis.getPlace();\n\t}\n};\n"],"sourceRoot":""}