{"version":3,"sources":["webpack:///E:/project/my/colorUi/colorSchool/main.js","webpack:///E:/project/my/colorUi/colorSchool/pages/basic/login/login.vue?1b15","webpack:///E:/project/my/colorUi/colorSchool/pages/basic/login/login.vue?33bb","webpack:///E:/project/my/colorUi/colorSchool/pages/basic/login/login.vue?78ab","webpack:///E:/project/my/colorUi/colorSchool/pages/basic/login/login.vue?0478","webpack:///E:/project/my/colorUi/colorSchool/pages/basic/login/login.vue"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","TabCur","tabRow","loginForm","account","password","userOriginalCode","checkCodeText","yzm","checkCode","telNum","loginWay","wxImage","methods","showToast","title","uni","showModal","content","showCancel","success","res","confirm","tabSelect","e","currentTarget","dataset","id","getCheckCode","i","length","setInter","setInterval","clearInterval","self","request","url","$store","state","urlPrefix","phone","method","header","substring","complete","loginByWechat","getUserCode","showLoading","mask","wechat","then","hideLoading","userInfo","JSON","parse","reLaunch","login","provider","loginRes","code","loginByAccount","NM","PSD","registerCommit","commit","mounted"],"mappings":"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","file":"pages/basic/login/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/basic/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=057af5b0&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"project/my/colorUi/colorSchool/pages/basic/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=057af5b0&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tTabCur: 0,\n\t\t\ttabRow: ['登录','注册'],\n\t\t\tloginForm: {\n\t\t\t\taccount: '',\n\t\t\t\tpassword: ''\n\t\t\t},\n\t\t\tuserOriginalCode: '',\n\t\t\tcheckCodeText: '获取验证码',\n\t\t\tyzm: '',\n\t\t\tcheckCode: '',\n\t\t\ttelNum: '',\n\t\t\tloginWay: '登录',\n\t\t\twxImage: 'http://data.huwei-soft.cn/schooltest/static/wx.png'\n\t\t}\n\t},\n\tmethods: {\n\t\tshowToast(title) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: title,\n\t\t\t\tshowCancel: false,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.confirm) {}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttabSelect(e) {\n\t\t\tthis.TabCur = e.currentTarget.dataset.id;\n\t\t\tif (this.TabCur == 0) {\n\t\t\t\tthis.loginWay = '登录'\n\t\t\t} else {\n\t\t\t\tthis.loginWay = '注册'\n\t\t\t}\n\t\t},\n\t\t\n\t\t//获取验证码\n\t\tgetCheckCode() {\n\t\t\tlet i = 60;\n\t\t\tif (this.telNum.length == 11) {\n\t\t\t\tif (this.checkCodeText == '获取验证码' || this.checkCodeText == '重新获取') {\n\t\t\t\t\tthis.setInter = setInterval(() => {\n\t\t\t\t\t\tif (i == 0) {\n\t\t\t\t\t\t\tclearInterval(this.setInter)\n\t\t\t\t\t\t\tthis.checkCodeText = '重新获取';\n\t\t\t\t\t\t\tthis.yzm = '';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.checkCodeText = i + '秒';\n\t\t\t\t\t\t\ti = i - 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 1000);\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: self.$store.state.urlPrefix + '/Home/Get_Code',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tphone: self.telNum\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'content-type': 'application/json' // 默认值\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tself.yzm = '';\n\t\t\t\t\t\t\tif (res.data == '系统中没有该手机号码') {\n\t\t\t\t\t\t\t\tself.showToast('请输入正确的手机号')\n\t\t\t\t\t\t\t\tclearInterval(self.setInter)\n\t\t\t\t\t\t\t\tself.checkCodeText = '获取验证码';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.checkCode = res.data.substring(res.data.length - 4, res.data.length);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: (res) => {}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.showToast('请输入正确的手机号')\n\t\t\t}\n\t\t},\n\t\t\n\t\t//微信登录\n\t\tloginByWechat() {\n\t\t\tvar self = this;\n\t\t\tself.getUserCode();\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '登录中。。。',\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\tuni.request({\n\t\t\t  url: self.$store.state.urlPrefix + '/Home/We_Login',\n\t\t\t\tdata: {\n\t\t\t\t\twechat: self.userOriginalCode\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(data => {//data为一个数组，数组第一项为错误信息，第二项为返回数据\n\t\t\t\tuni.hideLoading()\n\t\t\t    var [error, res]  = data;\n\t\t\t    if (res.data == '暂无数据') {\n\t\t\t    \tself.showToast('账号或者密码错误')\n\t\t\t    } else {\n\t\t\t    \tlet userInfo = JSON.parse(res.data);\n\t\t\t    \tself.$store.state.userInfo = userInfo[0];\n\t\t\t    \tuni.reLaunch({\n\t\t\t    \t\turl: '../home/home'\n\t\t\t    \t})\n\t\t\t    }\n\t\t\t})\n\t\t},\n\t\t\n\t\t//获取用户id\n\t\tgetUserCode() {\n\t\t\tvar self = this;\n\t\t\tuni.login({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\tsuccess: function(loginRes) {\n\t\t\t\t\tself.userOriginalCode = loginRes.code;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t//账号登录\n\t\tloginByAccount() {\n\t\t\tvar self = this;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle:'登录中...',\n\t\t\t\tmask:true\n\t\t\t});\n\t\t\tuni.request({\n\t\t\t\turl: self.$store.state.urlPrefix + '/Home/Login',\n\t\t\t\tdata: {\n\t\t\t\t\tNM: self.loginForm.account,\n\t\t\t\t\tPSD: self.loginForm.password\n\t\t\t\t}\n\t\t\t}).then(data => {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tvar [error, res] = data;\n\t\t\t\t\n\t\t\t\tif (res.data == '暂无数据') {\n\t\t\t\t\tself.showToast('账号或者密码错误')\n\t\t\t\t} else {\n\t\t\t\t\tlet userInfo = JSON.parse(res.data);\n\t\t\t\t\tself.$store.state.userInfo = userInfo[0];\n\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\turl: '../home/home'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t\n\t\t//注册\n\t\tregisterCommit() {\n\t\t\tif (this.yzm != '') {\n\t\t\t\tif (this.checkCode != this.yzm) {\n\t\t\t\t\tthis.showToast('请输入正确的验证码')\n\t\t\t\t} else {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: self.$store.state.urlPrefix + '/Home/Phone_Zhuche',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tphone: self.telNum,\n\t\t\t\t\t\t\twechat: self.userOriginalCode\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'content-type': 'application/json' // 默认值\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (res.data == 'no') {\n\t\t\t\t\t\t\t\tself.showToast('该手机号没有权限')\n\t\t\t\t\t\t\t\tself.checkCode = '';\n\t\t\t\t\t\t\t\tself.telNum = '';\n\t\t\t\t\t\t\t\tself.yzm = '';\n\t\t\t\t\t\t\t} else if (res.data == 'ok') {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\tcontent: '注册成功',\n\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\tself.TabCur = 0;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tself.checkCode = '';\n\t\t\t\t\t\t\t\tself.yzm = '';\n\t\t\t\t\t\t\t\tself.telNum = '';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.showToast('注册失败')\n\t\t\t\t\t\t\t\tself.checkCode = '';\n\t\t\t\t\t\t\t\tself.yzm = '';\n\t\t\t\t\t\t\t\tself.telNum = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclearInterval(self.setInter)\n\t\t\t\t\t\t\tself.checkCodeText = '获取验证码';\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.showToast('请输入正确的验证码')\n\t\t\t}\n\t\t},\n\t\t\n\t\tcommit() {\n\t\t\tif (this.TabCur == 0) {\n\t\t\t\tthis.loginByAccount()\n\t\t\t} else {\n\t\t\t\tthis.registerCommit()\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.getUserCode();\n\t}\n}\n"],"sourceRoot":""}