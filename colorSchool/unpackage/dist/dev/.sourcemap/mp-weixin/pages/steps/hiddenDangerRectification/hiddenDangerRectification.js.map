{"version":3,"sources":["webpack:///E:/project/my/colorUi/colorSchool/main.js","webpack:///E:/project/my/colorUi/colorSchool/pages/steps/hiddenDangerRectification/hiddenDangerRectification.vue?56c3","webpack:///E:/project/my/colorUi/colorSchool/pages/steps/hiddenDangerRectification/hiddenDangerRectification.vue?6817","webpack:///E:/project/my/colorUi/colorSchool/pages/steps/hiddenDangerRectification/hiddenDangerRectification.vue?3150","webpack:///E:/project/my/colorUi/colorSchool/pages/steps/hiddenDangerRectification/hiddenDangerRectification.vue?84f8","webpack:///E:/project/my/colorUi/colorSchool/pages/steps/hiddenDangerRectification/hiddenDangerRectification.vue"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","info","TabCur","tabRow","handlingOpinion","imgList","buttonInfo","commitTime","methods","tabSelect","e","currentTarget","dataset","id","ChooseImage","uni","chooseImage","count","sizeType","sourceType","success","res","length","concat","tempFilePaths","ViewImage","previewImage","urls","current","url","DelImg","showModal","title","content","cancelText","confirmText","confirm","splice","index","getButton","self","request","$store","state","urlPrefix","StepOrder","BranchId","No","then","JSON","parse","s","ReceiveType","console","log","showMoadel","showCancel","commit","len","showLoading","mask","uploadImg","postImgUrl","uploadFile","filePath","name","formData","RYXH","userInfo","YSCD","uploadWord","hideLoading","reLaunch","postUrl","next_ReceiveType","next_StepOrder","next_BranchId","RecordRemarks","onLoad","option","mounted"],"mappings":"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","file":"pages/steps/hiddenDangerRectification/hiddenDangerRectification.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/steps/hiddenDangerRectification/hiddenDangerRectification.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./hiddenDangerRectification.vue?vue&type=template&id=2bd2f669&\"\nvar renderjs\nimport script from \"./hiddenDangerRectification.vue?vue&type=script&lang=js&\"\nexport * from \"./hiddenDangerRectification.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"project/my/colorUi/colorSchool/pages/steps/hiddenDangerRectification/hiddenDangerRectification.vue\"\nexport default component.exports","export * from \"-!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hiddenDangerRectification.vue?vue&type=template&id=2bd2f669&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hiddenDangerRectification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hiddenDangerRectification.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tinfo: {},\n\t\t\tTabCur: 0,\n\t\t\ttabRow: ['隐患信息','隐患处理'],\n\t\t\thandlingOpinion: '',\n\t\t\timgList: [],\n\t\t\tbuttonInfo: {},\n\t\t\tcommitTime: 0\n\t\t}\n\t},\n\tmethods: {\n\t\ttabSelect(e) {\n\t\t\tthis.TabCur = e.currentTarget.dataset.id;\n\t\t},\n\t\tChooseImage() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 4, //默认9\n\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['camera'], //从相册选择\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (this.imgList.length != 0) {\n\t\t\t\t\t\tthis.imgList = this.imgList.concat(res.tempFilePaths)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.imgList = res.tempFilePaths\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tViewImage(e) {\n\t\t\tuni.previewImage({\n\t\t\t\turls: this.imgList,\n\t\t\t\tcurrent: e.currentTarget.dataset.url\n\t\t\t});\n\t\t},\n\t\tDelImg(e) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '确定要删除这张照片？',\n\t\t\t\tcancelText: '取消',\n\t\t\t\tconfirmText: '确定',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tthis.imgList.splice(e.currentTarget.dataset.index, 1)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tgetButton() {\n\t\t\tvar self = this;\n\t\t\tuni.request({\n\t\t\t\turl: self.$store.state.urlPrefix + '/Process/Get_Handle',\n\t\t\t\tdata: {\n\t\t\t\t\tStepOrder: self.info.StepOrder,\n\t\t\t\t\tBranchId: self.info.BranchId,\n\t\t\t\t\tNo: self.info.No\n\t\t\t\t},\n\t\t\t}).then(data => {\n\t\t\t\tvar [error,res] = data;\n\t\t\t\tif (res.data == \"暂无数据\") {\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tvar data = JSON.parse(res.data)\n\t\t\t\t\t\n\t\t\t\t\tfor (let s of data) {\n\t\t\t\t\t\tif (s.ReceiveType == '提交') {\n\t\t\t\t\t\t\tself.buttonInfo = s;\n\t\t\t\t\t\t\tconsole.log(self.buttonInfo)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t},\n\t\tshowMoadel(title) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: title,\n\t\t\t\tshowCancel: false,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.confirm) {}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcommit() {\n\t\t\tif (!this.handlingOpinion) {\n\t\t\t\tthis.showMoadel('请输入整改回复!')\n\t\t\t} else if (this.imgList.length == 0) {\n\t\t\t\tthis.showMoadel('请拍摄照片!')\n\t\t\t} else {\n\t\t\t\tvar len = this.imgList.length;\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle:'提交中。。。',\n\t\t\t\t\tmask:true\n\t\t\t\t})\n\t\t\t\tthis.uploadImg(len);\n\t\t\t}\n\t\t},\n\t\tuploadImg(len) {\n\t\t\tvar self = this;\n\t\t\tvar postImgUrl = self.$store.state.urlPrefix + '/Process/Handle_SavaImg2';\n\t\t\tuni.uploadFile({\n\t\t\t\turl: postImgUrl,\n\t\t\t\tfilePath: self.imgList[self.commitTime],\n\t\t\t\tname: 'image',\n\t\t\t\tformData: {\n\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\n\t\t\t\t\tYSCD: self.info.YSCD,\n\t\t\t\t\tNo: self.info.No\n\t\t\t\t},\n\t\t\t}).then(data => {\n\t\t\t\tlet [error,res] = data;\n\t\t\t\tself.commitTime = self.commitTime + 1;\n\t\t\t\tif (res.data == 'ok') {\n\t\t\t\t\tif (self.commitTime<len) {\n\t\t\t\t\t\tself.uploadImg(len)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.commitTime = 0;\n\t\t\t\t\t\tself.uploadWord();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.commitTime = 0;\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\tcontent: '上报失败！',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\turl: '../../basic/home/home'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tuploadWord() {\n\t\t\tvar self = this;\n\t\t\tvar postUrl = self.$store.state.urlPrefix + '/Process/Handle5';\n\t\t\tuni.request({\n\t\t\t\turl: postUrl,\n\t\t\t\tdata: {\n\t\t\t\t\tYSCD: self.info.YSCD,\n\t\t\t\t\tBranchId: self.info.BranchId,\n\t\t\t\t\tRYXH: self.$store.state.userInfo.RYXH,\n\t\t\t\t\tStepOrder: self.info.StepOrder,\n\t\t\t\t\tnext_ReceiveType: self.buttonInfo.ReceiveType,\n\t\t\t\t\tnext_StepOrder: self.buttonInfo.StepOrder,\n\t\t\t\t\tNo: self.info.No,\n\t\t\t\t\tnext_BranchId: self.buttonInfo.BranchId,\n\t\t\t\t\tRecordRemarks: self.handlingOpinion\n\t\t\t\t},\n\t\t\t}).then(data => {\n\t\t\t\tvar [error,res] = data;\n\t\t\t\tif (res.data == 'ok') {\n\t\t\t\t\tself.commitTime = 0;\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\tcontent: '提交成功！',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\turl: '../../basic/home/home'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tself.commitTime = 0;\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\tcontent: '提交失败！',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\turl: '../../basic/home/home'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n\tonLoad(option) {\n\t\tthis.info = JSON.parse(option.info)\n\t\tconsole.log(this.info)\n\t},\n\tmounted() {\n\t\tthis.getButton()\n\t}\n}\n"],"sourceRoot":""}