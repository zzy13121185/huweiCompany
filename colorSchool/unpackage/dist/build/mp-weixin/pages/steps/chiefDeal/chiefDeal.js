(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/steps/chiefDeal/chiefDeal"],{"0533":function(t,e,n){"use strict";n.r(e);var r=n("c109"),o=n("49a1");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);var i=n("2877"),u=Object(i["a"])(o["default"],r["a"],r["b"],!1,null,null,null);e["default"]=u.exports},"295d":function(t,e,n){"use strict";(function(t){n("3dd1"),n("921b");r(n("66fd"));var e=r(n("0533"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"49a1":function(t,e,n){"use strict";n.r(e);var r=n("732d"),o=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);e["default"]=o.a},"732d":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n("334e"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return c(t)||u(t,e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0)if(n.push(i.value),e&&n.length===e)break}catch(c){o=!0,a=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw a}}return n}function c(t){if(Array.isArray(t))return t}var l={data:function(){return{info:{},TabCur:0,tabRow:["隐患信息","隐患提交"],handlingOpinion:"",date:"请选择截止日期",today:"",switchReport:!1,btnArr:[]}},methods:{showMoadel:function(e){t.showModal({title:"提示",content:e,showCancel:!1,success:function(t){t.confirm}})},tabSelect:function(t){this.TabCur=t.currentTarget.dataset.id},DateChange:function(t){this.date=t.detail.value},SwitchC:function(t){this.switchReport=t.detail.value},getButton:function(){var e=this;t.request({url:e.$store.state.urlPrefix+"/Process/Get_Handle",data:{StepOrder:e.info.StepOrder,BranchId:e.info.BranchId,No:e.info.No}}).then(function(t){var n=t,r=a(n,2),o=(r[0],r[1]);if("暂无数据"==o.data);else{t=JSON.parse(o.data);e.btnArr=t,console.log(t)}})},commit:function(){if(this.handlingOpinion)if("请选择截止日期"==this.date)this.showMoadel("请选择截止日期");else{t.showLoading({title:"加载中",mask:!0});var e={};if(this.switchReport){var n=!0,r=!1,o=void 0;try{for(var a,i=this.btnArr[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;"上报"==u.ReceiveType&&(e=u)}}catch(v){r=!0,o=v}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}else{var c=!0,l=!1,s=void 0;try{for(var f,d=this.btnArr[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value;"不上报"==h.ReceiveType&&(e=h)}}catch(v){l=!0,s=v}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}}this.dangerCommit(e)}else this.showMoadel("请输入处理意见！")},dangerCommit:function(e){var n=this;t.request({url:n.$store.state.urlPrefix+"/Process/Handle11",data:{YSCD:n.info.YSCD,BranchId:n.info.BranchId,RYXH:n.$store.state.userInfo.RYXH,StepOrder:n.info.StepOrder,next_ReceiveType:e.ReceiveType,next_StepOrder:e.StepOrder,No:n.info.No,next_BranchId:e.BranchId,RecordRemarks:n.handlingOpinion,Endtime:n.date}}).then(function(e){var n=a(e,2),r=(n[0],n[1]);t.hideLoading(),"ok"==r.data?t.showModal({title:"提示",content:"提交成功！",showCancel:!1,success:function(e){e.confirm&&t.reLaunch({url:"../../basic/home/home"})}}):t.showModal({title:"提示",content:"提交失败！",showCancel:!1,success:function(e){e.confirm&&t.reLaunch({url:"../../basic/home/home"})}})})}},onLoad:function(t){this.info=JSON.parse(t.info),console.log(this.info)},mounted:function(){this.today=r.default.now(),this.getButton()}};e.default=l}).call(this,n("543d")["default"])},c109:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o})}},[["295d","common/runtime","common/vendor"]]]);