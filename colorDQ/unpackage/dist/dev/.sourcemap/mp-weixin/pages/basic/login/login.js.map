{"version":3,"sources":["webpack:///E:/project/my/colorUi/colorDQ/main.js","webpack:///E:/project/my/colorUi/colorDQ/pages/basic/login/login.vue?0fc1","webpack:///E:/project/my/colorUi/colorDQ/pages/basic/login/login.vue?1cfd","webpack:///E:/project/my/colorUi/colorDQ/pages/basic/login/login.vue?d2d0","webpack:///E:/project/my/colorUi/colorDQ/pages/basic/login/login.vue?e33a","webpack:///E:/project/my/colorUi/colorDQ/pages/basic/login/login.vue"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","TabCur","tabRow","loginForm","account","password","userOriginalCode","checkCodeText","yzm","checkCode","telNum","loginWay","methods","showToast","title","uni","showModal","content","showCancel","success","res","confirm","tabSelect","e","currentTarget","dataset","id","getCheckCode","i","length","setInter","setInterval","clearInterval","self","request","url","$store","state","urlPrefix","phone","method","header","substring","complete","loginByWechat","getUserCode","showLoading","mask","wechat","then","hideLoading","userInfo","JSON","parse","reLaunch","login","provider","loginRes","code","loginByAccount","NM","PSD","console","log","registerCommit","commit","mounted"],"mappings":"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","file":"pages/basic/login/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/basic/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=d6f1febe&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"project/my/colorUi/colorDQ/pages/basic/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=d6f1febe&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tTabCur: 0,\n\t\t\ttabRow: ['登录','注册'],\n\t\t\tloginForm: {\n\t\t\t\taccount: '',\n\t\t\t\tpassword: ''\n\t\t\t},\n\t\t\tuserOriginalCode: '',\n\t\t\tcheckCodeText: '获取验证码',\n\t\t\tyzm: '',\n\t\t\tcheckCode: '',\n\t\t\ttelNum: '',\n\t\t\tloginWay: '登录'\n\t\t}\n\t},\n\tmethods: {\n\t\tshowToast(title) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: title,\n\t\t\t\tshowCancel: false,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.confirm) {}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttabSelect(e) {\n\t\t\tthis.TabCur = e.currentTarget.dataset.id;\n\t\t\tif (this.TabCur == 0) {\n\t\t\t\tthis.loginWay = '登录'\n\t\t\t} else {\n\t\t\t\tthis.loginWay = '注册'\n\t\t\t}\n\t\t},\n\t\t\n\t\t//获取验证码\n\t\tgetCheckCode() {\n\t\t\tlet i = 60;\n\t\t\tif (this.telNum.length == 11) {\n\t\t\t\tif (this.checkCodeText == '获取验证码' || this.checkCodeText == '重新获取') {\n\t\t\t\t\tthis.setInter = setInterval(() => {\n\t\t\t\t\t\tif (i == 0) {\n\t\t\t\t\t\t\tclearInterval(this.setInter)\n\t\t\t\t\t\t\tthis.checkCodeText = '重新获取';\n\t\t\t\t\t\t\tthis.yzm = '';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.checkCodeText = i + '秒';\n\t\t\t\t\t\t\ti = i - 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 1000);\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: self.$store.state.urlPrefix + '/Home/Get_Code',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tphone: self.telNum\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'content-type': 'application/json' // 默认值\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tself.yzm = '';\n\t\t\t\t\t\t\tif (res.data == '系统中没有该手机号码') {\n\t\t\t\t\t\t\t\tself.showToast('请输入正确的手机号')\n\t\t\t\t\t\t\t\tclearInterval(self.setInter)\n\t\t\t\t\t\t\t\tself.checkCodeText = '获取验证码';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.checkCode = res.data.substring(res.data.length - 4, res.data.length);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: (res) => {}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.showToast('请输入正确的手机号')\n\t\t\t}\n\t\t},\n\t\t\n\t\t//微信登录\n\t\tloginByWechat() {\n\t\t\tvar self = this;\n\t\t\tself.getUserCode();\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '登录中。。。',\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\tuni.request({\n\t\t\t  url: self.$store.state.urlPrefix + '/Home/We_Login',\n\t\t\t\tdata: {\n\t\t\t\t\twechat: self.userOriginalCode\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(data => {//data为一个数组，数组第一项为错误信息，第二项为返回数据\n\t\t\t\tuni.hideLoading()\n\t\t\t    var [error, res]  = data;\n\t\t\t    if (res.data == '暂无数据') {\n\t\t\t    \tself.showToast('账号或者密码错误')\n\t\t\t    } else {\n\t\t\t    \tlet userInfo = JSON.parse(res.data);\n\t\t\t    \tself.$store.state.userInfo = userInfo[0];\n\t\t\t    \tuni.reLaunch({\n\t\t\t    \t\turl: '../home/home'\n\t\t\t    \t})\n\t\t\t    }\n\t\t\t})\n\t\t},\n\t\t\n\t\t//获取用户id\n\t\tgetUserCode() {\n\t\t\tvar self = this;\n\t\t\tuni.login({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\tsuccess: function(loginRes) {\n\t\t\t\t\tself.userOriginalCode = loginRes.code;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t//账号登录\n\t\tloginByAccount() {\n\t\t\tvar self = this;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle:'登录中...',\n\t\t\t\tmask:true\n\t\t\t});\n\t\t\tuni.request({\n\t\t\t\turl: self.$store.state.urlPrefix + '/Home/Login',\n\t\t\t\tdata: {\n\t\t\t\t\tNM: self.loginForm.account,\n\t\t\t\t\tPSD: self.loginForm.password\n\t\t\t\t}\n\t\t\t}).then(data => {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tvar [error, res] = data;\n\t\t\t\t\n\t\t\t\tif (res.data == '暂无数据') {\n\t\t\t\t\tself.showToast('账号或者密码错误')\n\t\t\t\t} else {\n\t\t\t\t\tlet userInfo = JSON.parse(res.data);\n\t\t\t\t\tconsole.log(userInfo)\n\t\t\t\t\tself.$store.state.userInfo = userInfo[0];\n\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\turl: '../home/home'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t\n\t\t//注册\n\t\tregisterCommit() {\n\t\t\tif (this.yzm != '') {\n\t\t\t\tif (this.checkCode != this.yzm) {\n\t\t\t\t\tthis.showToast('请输入正确的验证码')\n\t\t\t\t} else {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: self.$store.state.urlPrefix + '/Home/Phone_Zhuche',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tphone: self.telNum,\n\t\t\t\t\t\t\twechat: self.userOriginalCode\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'content-type': 'application/json' // 默认值\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (res.data == 'no') {\n\t\t\t\t\t\t\t\tself.showToast('该手机号没有权限')\n\t\t\t\t\t\t\t\tself.checkCode = '';\n\t\t\t\t\t\t\t\tself.telNum = '';\n\t\t\t\t\t\t\t\tself.yzm = '';\n\t\t\t\t\t\t\t} else if (res.data == 'ok') {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\tcontent: '注册成功',\n\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\tself.TabCur = 0;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tself.checkCode = '';\n\t\t\t\t\t\t\t\tself.yzm = '';\n\t\t\t\t\t\t\t\tself.telNum = '';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.showToast('注册失败')\n\t\t\t\t\t\t\t\tself.checkCode = '';\n\t\t\t\t\t\t\t\tself.yzm = '';\n\t\t\t\t\t\t\t\tself.telNum = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclearInterval(self.setInter)\n\t\t\t\t\t\t\tself.checkCodeText = '获取验证码';\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.showToast('请输入正确的验证码')\n\t\t\t}\n\t\t},\n\t\t\n\t\tcommit() {\n\t\t\tif (this.TabCur == 0) {\n\t\t\t\tthis.loginByAccount()\n\t\t\t} else {\n\t\t\t\tthis.registerCommit()\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.getUserCode();\n\t}\n}\n"],"sourceRoot":""}