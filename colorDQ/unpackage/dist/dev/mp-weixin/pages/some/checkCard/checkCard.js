(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/some/checkCard/checkCard"],{192:
/*!*********************************************************************************************!*\
  !*** E:/project/my/colorUi/colorDQ/main.js?{"page":"pages%2Fsome%2FcheckCard%2FcheckCard"} ***!
  \*********************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";(function(e){r(/*! uni-pages */4),r(/*! @dcloudio/uni-stat */5);n(r(/*! vue */2));var t=n(r(/*! ./pages/some/checkCard/checkCard.vue */193));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},193:
/*!************************************************************************!*\
  !*** E:/project/my/colorUi/colorDQ/pages/some/checkCard/checkCard.vue ***!
  \************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./checkCard.vue?vue&type=template&id=498de117& */194),o=r(/*! ./checkCard.vue?vue&type=script&lang=js& */196);for(var i in o)"default"!==i&&function(e){r.d(t,e,(function(){return o[e]}))}(i);r(/*! ./checkCard.vue?vue&type=style&index=0&lang=css& */198);var s,a=r(/*! ../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */14),c=Object(a["default"])(o["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],s);c.options.__file="project/my/colorUi/colorDQ/pages/some/checkCard/checkCard.vue",t["default"]=c.exports},194:
/*!*******************************************************************************************************!*\
  !*** E:/project/my/colorUi/colorDQ/pages/some/checkCard/checkCard.vue?vue&type=template&id=498de117& ***!
  \*******************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,r){"use strict";r.r(t);var n=r(/*! -!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkCard.vue?vue&type=template&id=498de117& */195);r.d(t,"render",(function(){return n["render"]})),r.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]})),r.d(t,"recyclableRender",(function(){return n["recyclableRender"]})),r.d(t,"components",(function(){return n["components"]}))},195:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/project/my/colorUi/colorDQ/pages/some/checkCard/checkCard.vue?vue&type=template&id=498de117& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,r){"use strict";var n;r.r(t),r.d(t,"render",(function(){return o})),r.d(t,"staticRenderFns",(function(){return s})),r.d(t,"recyclableRender",(function(){return i})),r.d(t,"components",(function(){return n}));var o=function(){var e=this,t=e.$createElement;e._self._c},i=!1,s=[];o._withStripped=!0},196:
/*!*************************************************************************************************!*\
  !*** E:/project/my/colorUi/colorDQ/pages/some/checkCard/checkCard.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";r.r(t);var n=r(/*! -!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkCard.vue?vue&type=script&lang=js& */197),o=r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},197:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/project/my/colorUi/colorDQ/pages/some/checkCard/checkCard.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";(function(e){function r(e,t){return i(e)||o(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0)if(r.push(s.value),t&&r.length===t)break}catch(c){o=!0,i=c}finally{try{n||null==a["return"]||a["return"]()}finally{if(o)throw i}}return r}}function i(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{index:0,picker:[],peopleList:{},swiperList:[],cardCur:0,showPerson:!1,id:"",pickerRow:[],pickerId:"",peopleNumber:0,right:!0,commitWord:"结束考勤"}},methods:{getNumber:function(){var t=this;e.request({url:t.$store.state.urlPrefix+"/Web/Get_CheckInNum",data:{xzcd:t.pickerId}}).then((function(e){var n=r(e,2),o=(n[0],n[1]);console.log(o.data),t.peopleNumber=o.data.data||0}))},PickerChange:function(e){this.index=e.detail.value,this.pickerId=this.pickerRow[this.index].XZCD,console.log(this.pickerId),this.getNumber(),this.judgeRight()},ChooseImage:function(){var t=this;e.chooseImage({count:1,sizeType:["compressed"],sourceType:["camera","album"],success:function(r){var n=r.tempFilePaths;console.log(n),t.swiperList=[r.tempFilePaths[0]];var o=t.$store.state.urlPrefix+"/Web/Add_BuildersImg",i=e.uploadFile({url:o,filePath:t.swiperList[0],name:"image",formData:{builderId:t.id},success:function(e){console.log(e.data)}});console.log(i),i.onProgressUpdate((function(t){console.log("上传进度"+t.progress),e.showLoading({title:"上传中:"+t.progress+"%",mask:!0}),100==t.progress&&e.hideLoading()}))}})},reset:function(){var t=this;e.showModal({title:"提示",content:"是否取消此次考勤？",showCancel:!0,success:function(e){e.confirm?(t.showPerson=!1,t.id="",t.peopleList={},t.swiperList=[]):e.cancel&&console.log("用户点击取消")}})},ViewImage:function(t){e.previewImage({urls:this.swiperList,current:t.currentTarget.dataset.url})},cardSwiper:function(e){this.cardCur=e.detail.current},commit:function(){var t=this;t.right?t.showToast("考勤已经结束！"):e.showModal({title:"提示",content:"是否结束此次考勤？",showCancel:!0,success:function(n){n.confirm?(e.showLoading({title:"加载中。。。",mask:!0}),e.request({url:t.$store.state.urlPrefix+"/Web/CheckInEnd",data:{xzcd:t.pickerId,userId:t.$store.state.userInfo.RYXH}}).then((function(t){var n=r(t,2),o=(n[0],n[1]);console.log(o.data),e.hideLoading()}))):n.cancel&&console.log("用户点击取消")}})},getCode:function(){if(this.right)this.showToast("考勤已经结束！");else{var t=this;e.showLoading({title:"扫描中。。。",mask:!0}),e.scanCode({onlyFromCamera:!0,success:function(e){console.log(e);var r=e.result,n=r.split("builderId=");t.id=n[1],console.log(t.id),t.getData()},fail:function(){e.hideLoading(),t.showToast("扫描失败！")}})}},getData:function(){var t=this;t.showPerson=!1,e.request({url:t.$store.state.urlPrefix+"/Web/Get_Web_BuildersInfo",data:{builderId:t.id}}).then((function(n){var o=r(n,2),i=(o[0],o[1]);console.log(i.data),e.hideLoading(),t.peopleList=i.data[0],t.swiperList.push(i.data[0].imgPath),t.showPerson=!0}))},checkIn:function(){e.showLoading({title:"考勤中。。。",mask:!0});var t=this;e.request({url:t.$store.state.urlPrefix+"/Web/Builders_CheckIn",data:{builderId:t.id,userId:t.$store.state.userInfo.RYXH,xzcd:t.pickerId}}).then((function(n){var o=r(n,2),i=(o[0],o[1]);console.log(i.data),t.getNumber(),e.hideLoading(),0==i.data.code?(t.showToast("考勤成功"),t.showPerson=!1,t.id="",t.peopleList={},t.swiperList=[]):1==i.data.code?(t.showToast(i.data.msg),t.showPerson=!1,t.id="",t.peopleList={},t.swiperList=[]):t.showToast("考勤失败")}))},showToast:function(t){e.showModal({title:"提示",content:t,showCancel:!1,success:function(e){e.confirm}})},getXZ:function(){var t=this;e.request({url:t.$store.state.urlPrefix+"/Web/Get_XZ_Role",data:{userId:t.$store.state.userInfo.RYXH}}).then((function(e){var n=r(e,2),o=(n[0],n[1]);console.log(o.data),t.pickerRow=o.data.data;var i=!0,s=!1,a=void 0;try{for(var c,u=o.data.data[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;t.picker.push(d.XZMC)}}catch(l){s=!0,a=l}finally{try{i||null==u.return||u.return()}finally{if(s)throw a}}t.pickerId=t.pickerRow[t.index].XZCD,t.getNumber(),t.judgeRight()}))},judgeRight:function(){var t=this;e.request({url:t.$store.state.urlPrefix+"/web/Get_IsCheckInEnd",data:{xzcd:t.pickerId}}).then((function(e){var n=r(e,2),o=(n[0],n[1]);console.log(o.data),t.right=o.data.data,t.right?t.commitWord="考勤已结束":t.commitWord="结束考勤"}))}},mounted:function(){this.getXZ()}};t.default=s}).call(this,r(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},198:
/*!*********************************************************************************************************!*\
  !*** E:/project/my/colorUi/colorDQ/pages/some/checkCard/checkCard.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";r.r(t);var n=r(/*! -!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../tool/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkCard.vue?vue&type=style&index=0&lang=css& */199),o=r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},199:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-2!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/project/my/colorUi/colorDQ/pages/some/checkCard/checkCard.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,r){}},[[192,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/some/checkCard/checkCard.js.map